<div class="highlight"><pre><span class="k">class</span> <span class="nc">SudokuModel</span><span class="o">::</span><span class="no">Sudoku</span>
 <span class="k">def</span> <span class="nf">pi</span>
  <span class="n">bnds</span> <span class="o">=</span> <span class="no">Arby</span><span class="o">::</span><span class="no">Ast</span><span class="o">::</span><span class="no">Bounds</span><span class="o">.</span><span class="n">new</span>
  <span class="n">inds</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">N</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">N</span><span class="p">)</span> <span class="o">-</span> <span class="nb">self</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">1</span><span class="p">)</span>
  <span class="n">bnds</span><span class="o">[</span><span class="no">Sudoku</span><span class="o">]</span>         <span class="o">=</span> <span class="nb">self</span>
  <span class="n">bnds</span><span class="o">.</span><span class="n">lo</span><span class="o">[</span><span class="no">Sudoku</span><span class="o">.</span><span class="n">grid</span><span class="o">]</span> <span class="o">=</span> <span class="nb">self</span> <span class="o">**</span> <span class="nb">self</span><span class="o">.</span><span class="n">grid</span>
  <span class="n">bnds</span><span class="o">.</span><span class="n">hi</span><span class="o">[</span><span class="no">Sudoku</span><span class="o">.</span><span class="n">grid</span><span class="o">]</span> <span class="o">=</span> <span class="nb">self</span> <span class="o">**</span> <span class="n">inds</span> <span class="o">**</span> <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.N</span><span class="p">)</span>
  <span class="n">bnds</span><span class="o">.</span><span class="n">bound_int</span><span class="p">(</span><span class="mi">0</span><span class="o">.</span><span class="n">.N</span><span class="p">)</span>
 <span class="k">end</span>
 <span class="k">def</span> <span class="k">solve</span><span class="p">()</span> <span class="no">SudokuModel</span><span class="o">.</span><span class="k">solve</span> <span class="ss">:solved</span><span class="p">,</span> <span class="nb">self</span><span class="o">.</span><span class="n">pi</span> <span class="k">end</span>
 <span class="k">def</span> <span class="nf">display</span><span class="p">()</span> <span class="nb">puts</span> <span class="n">grid</span> <span class="k">end</span>
 <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="no">Sudoku</span><span class="o">.</span><span class="n">new</span> <span class="ss">grid</span><span class="p">:</span> 
   <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sr">/;\s*/</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="o">{|</span><span class="n">x</span><span class="o">|</span> <span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sr">/,/</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="o">&amp;</span><span class="ss">:to_i</span><span class="p">)</span><span class="o">}</span>
 <span class="k">end</span>
<span class="k">end</span>
<span class="no">SudokuModel</span><span class="o">.</span><span class="n">N</span> <span class="o">=</span> <span class="mi">4</span>
<span class="n">s</span> <span class="o">=</span> <span class="no">Sudoku</span><span class="o">.</span><span class="n">parse</span> <span class="s2">&quot;0,0,1; 0,3,4; 3,1,1; 2,2,3&quot;</span>
<span class="n">s</span><span class="o">.</span><span class="k">solve</span><span class="p">();</span> <span class="n">s</span><span class="o">.</span><span class="n">display</span><span class="p">();</span> <span class="c1"># =&gt; {&lt;0,0,1&gt;, &lt;0,1,3&gt;, ...}</span>
</pre></div>
